<idea-plugin package="org.jetbrains.kotlin.idea.base.fir.analysisApiProviders">

  <extensions defaultExtensionNs="com.intellij">
    <projectService
            serviceInterface="org.jetbrains.kotlin.analysis.providers.KotlinModificationTrackerFactory"
            serviceImplementation="org.jetbrains.kotlin.idea.base.fir.analysisApiProviders.FirIdeKotlinModificationTrackerFactory"/>
    <projectService
            serviceInterface="org.jetbrains.kotlin.idea.base.analysisApiProviders.KotlinModuleStateModificationService"
            serviceImplementation="org.jetbrains.kotlin.idea.base.fir.analysisApiProviders.FirIdeKotlinModuleStateModificationService"/>
    <projectService
            serviceInterface="org.jetbrains.kotlin.analysis.providers.KotlinGlobalModificationService"
            serviceImplementation="org.jetbrains.kotlin.idea.base.fir.analysisApiProviders.FirIdeKotlinGlobalModificationService"/>
    <psi.treeChangePreprocessor
            implementation="org.jetbrains.kotlin.idea.base.fir.analysisApiProviders.FirIdeOutOfBlockPsiTreeChangePreprocessor"/>
  </extensions>

  <dependencies>
    <module name="kotlin.base.analysis-api-providers"/>
  </dependencies>

</idea-plugin>